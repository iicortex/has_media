<%- namespace, object = object if object.is_a?(Array) %>
<% multiple = object.send(context).is_a?(Array) %>

<div id="<%= generate_uid(:object => object, :context => context) %>">
  <%= render :partial => 'has_media/media', :locals => {
    :object => object,
    :context => context,
    :multiple => multiple,
    :readonly => false
  } %>

  <%= render :partial => 'has_media/medium_field', 
    :locals => {
      :object => object, 
      :context => context,
      :multiple => multiple
  } %>

</div>

<p>
<% if namespace %>
  <%= add_medium_link(:namespace => namespace, :object => object, :context => context) %>
<% else %>
  <%= add_medium_link(:object => object, :context => context) %>
<% end %>
</p>

